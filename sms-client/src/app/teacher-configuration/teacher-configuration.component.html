<article class="slds-card slds-m-around_medium">
	<div class="slds-card__header slds-grid">
	  <header class="slds-media slds-media_center slds-has-flexi-truncate">
		<div class="slds-media__figure">
		  <span class="slds-icon_container slds-icon-standard-contact" title="contact">
			<svg class="slds-icon slds-icon_small" aria-hidden="true">
			  <use xlink:href="/assets/icons/standard-sprite/svg/symbols.svg#contact"></use>
			</svg>
			<span class="slds-assistive-text">contact</span>
		  </span>
		</div>
		<div class="slds-media__body">
		  <h2 class="slds-card__header-title">
				<span>Teachers Configuration</span>
		  </h2>
		</div>
		<div class="slds-no-flex">
		  <button class="slds-button slds-button_neutral" (click)="isOpen = true" >New</button>
		  <app-configure-teacher [isOpen]="isOpen" (isOpenChange)="isOpen =false;getTeacherconfig()" [teacherconfiguration]="teacherconfiguration"></app-configure-teacher>
			
		</div>
	  </header>
	</div>
	 <div class="slds-card__body">
		 
		<table *ngIf="teacherconfiguration && teacherconfiguration.length > 0" class="slds-table_bordered slds-max-medium-table_stacked-horizontal" ngl-datatable [data]="teacherconfiguration" trackByKey="key"  [loading]="loading" [(sort)]="sort" (sortChange)="onSort($event)" (rowClick)="onRowClick($event)">
			<ngl-datatable-column heading="Configuration Id" key="ConfigurationId" sortable></ngl-datatable-column>
			<ngl-datatable-column heading="Name" key="TeacherName" sortable></ngl-datatable-column>
            <ngl-datatable-column heading="Teacher Id" key="TeacherId" sortable></ngl-datatable-column>
			<ngl-datatable-column heading="Alloted Subject" key="SubjectName" sortable></ngl-datatable-column>
            <ngl-datatable-column heading="Alloted Date" key="CreatedDate" sortable></ngl-datatable-column>
			
			<ngl-datatable-column heading="Action" aria-keyshortcuts="Id"  sortable>
				<ng-template nglDatatableCell let-row='row' >
					<button type="button" nglButton variant="destructive" iconName="action:delete" iconPosition="right" (click)="row.isOpenPrompt = true">Remove</button>
						<ngl-modal header="Warning" [(open)]="row.isOpenPrompt" prompt="warning" dismissOnClickOutside="false">
							  <div class="slds-p-around_medium">
								<p>Are you sure for deleting this !</p>
							  </div>
							  <ng-template nglModalFooter>
								<button class="slds-button slds-button_neutral" (click)="deleteTeacherConfig(row.ConfigurationId)"(click)="row.isOpenPrompt = false">Okay</button>
								<button class="slds-button slds-button_neutral" (click)="row.isOpenPrompt = false">Cancel</button>
							  </ng-template>
						</ngl-modal>

					
				</ng-template>
			</ngl-datatable-column>
		</table>
		<div *ngIf="!teacherconfiguration || teacherconfiguration.length == 0" class="slds-p-around_small slds-text-align_center ">
			No Teacher Configurated!
		</div>
	</div>
	<footer class="slds-card__footer">
	</footer>
</article>


